<!DOCTYPE html><html class="default" lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>doc-test</title><meta name="description" content="Documentation for doc-test"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script async src="assets/search.js" id="search-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os"</script><header class="tsd-page-toolbar">
<div class="tsd-toolbar-contents container">
<div class="table-cell" id="tsd-search" data-base=".">
<div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M15.7824 13.833L12.6666 10.7177C12.5259 10.5771 12.3353 10.499 12.1353 10.499H11.6259C12.4884 9.39596 13.001 8.00859 13.001 6.49937C13.001 2.90909 10.0914 0 6.50048 0C2.90959 0 0 2.90909 0 6.49937C0 10.0896 2.90959 12.9987 6.50048 12.9987C8.00996 12.9987 9.39756 12.4863 10.5008 11.6239V12.1332C10.5008 12.3332 10.5789 12.5238 10.7195 12.6644L13.8354 15.7797C14.1292 16.0734 14.6042 16.0734 14.8948 15.7797L15.7793 14.8954C16.0731 14.6017 16.0731 14.1267 15.7824 13.833ZM6.50048 10.499C4.29094 10.499 2.50018 8.71165 2.50018 6.49937C2.50018 4.29021 4.28781 2.49976 6.50048 2.49976C8.71001 2.49976 10.5008 4.28708 10.5008 6.49937C10.5008 8.70852 8.71314 10.499 6.50048 10.499Z" fill="var(--color-text)"></path></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div>
<div class="field">
<div id="tsd-toolbar-links"></div></div>
<ul class="results">
<li class="state loading">Preparing search index...</li>
<li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">doc-test</a></div>
<div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><rect x="1" y="3" width="14" height="2" fill="var(--color-text)"></rect><rect x="1" y="7" width="14" height="2" fill="var(--color-text)"></rect><rect x="1" y="11" width="14" height="2" fill="var(--color-text)"></rect></svg></a></div></div></header>
<div class="container container-main">
<div class="col-8 col-content">
<div class="tsd-page-title">
<h2>doc-test</h2></div>
<div class="tsd-panel tsd-typography"><p><a href="https://coveralls.io/github/ULL-ESIT-INF-DSI-2223/ull-esit-inf-dsi-22-23-prct09-funko-app-alu0101327679?branch=main"><img src="https://coveralls.io/repos/github/ULL-ESIT-INF-DSI-2223/ull-esit-inf-dsi-22-23-prct09-funko-app-alu0101327679/badge.svg?branch=main" alt="Coverage Status"></a><a href="https://sonarcloud.io/summary/new_code?id=ULL-ESIT-INF-DSI-2223_ull-esit-inf-dsi-22-23-prct09-funko-app-alu0101327679"><img src="https://sonarcloud.io/api/project_badges/measure?project=ULL-ESIT-INF-DSI-2223_ull-esit-inf-dsi-22-23-prct09-funko-app-alu0101327679&metric=coverage" alt="Coverage"></a><a href="https://sonarcloud.io/summary/new_code?id=ULL-ESIT-INF-DSI-2223_ull-esit-inf-dsi-22-23-prct09-funko-app-alu0101327679"><img src="https://sonarcloud.io/api/project_badges/measure?project=ULL-ESIT-INF-DSI-2223_ull-esit-inf-dsi-22-23-prct09-funko-app-alu0101327679&metric=alert_status" alt="Quality Gate Status"></a></p>

<a href="#tareas-previas" id="tareas-previas" style="color: inherit; text-decoration: none;">
  <h1>Tareas previas</h1>
</a>
<ul>
<li><p>Peparar el entorno virtual para que contenga:</p>
<ol>
<li><a href="https://typedoc.org">TyeDoc</a></li>
<li><a href="https://mochajs.org">Mocha</a></li>
<li><a href="https://www.chaijs.com">Chai</a></li>
<li>Prettier</li>
<li>eslint</li>
<li><a href="https://istanbul.js.org/">Instanbull</a></li>
<li><a href="https://coveralls.io/">Coveralls</a></li>
<li><a href="https://www.npmjs.com/package/prompt-sync">Prompt-sync</a><ul>
<li><code>npm i prompt-sync</code></li>
<li><code>npm i --save-dev @types/prompt-sync</code></li>
</ul>
</li>
<li><a href="https://www.npmjs.com/package/yargs">Yargs</a></li>
<li><a href="https://www.npmjs.com/package/chalk">Chalks</a></li>
<li>GitHub Actions<ul>
<li>Pages</li>
<li>Coveralls</li>
<li>SonarCloud</li>
</ul>
</li>
<li>Entender un poco el <a href="https://nodejs.org/docs/latest-v19.x/api/fs.html">API sincrona de Node.js</a></li>
</ol>
</li>
<li><p>Repasar las <a href="https://docs.github.com/en/get-started/writing-on-github/getting-started-with-writing-and-formatting-on-github/basic-writing-and-formatting-syntax#links">&quot;Markdown Basics&quot;</a></p>
</li>
<li><p>Tener a mano los <a href="https://ull-esit-inf-dsi-2223.github.io/typescript-theory/">apuntes</a> principales de la asignatura</p>
</li>
<li><p>Y los <a href="https://ull-esit-inf-dsi-2223.github.io/nodejs-theory/">apuntes</a> de Node.js</p>
</li>
<li><p>Tener a mano el <a href="https://ull-esit-inf-dsi-2223.github.io/prct05-objects-classes-interfaces/">guion de la practica</a></p>
</li>
</ul>

<a href="#main" id="main" style="color: inherit; text-decoration: none;">
  <h1>Main</h1>
</a>
<p>El programa principal que desarrollaremos se basa en el desarrollo de un sistema sincrono que nos permita interactuar con los funkos de los usuarios del sistema, los usuarios serán identificados por los diferentes directorios donde se guardan los funkos, y a su vez, los diferentes funkos se guardan en ficheros JSON, donde el nombre del fichero será el ID del funko alamcenado.</p>
<p>En este caso se obtendría un arbol de directorios con esta forma luego de haber generado funkos para varios usuarios:</p>
<p><img src="./images/Screenshot_15.png" alt="arbol de directorios"></p>
<p>Las funciones que debemos implementar son:</p>

<a href="#añadir-funko" id="añadir-funko" style="color: inherit; text-decoration: none;">
  <h2>Añadir funko.</h2>
</a>
<pre><code class="language-ts"><span class="hl-0">  </span><span class="hl-1">public</span><span class="hl-0"> </span><span class="hl-2">almacenarFunkoUsuario</span><span class="hl-0">(</span><span class="hl-1">funko</span><span class="hl-0">: </span><span class="hl-1">Funko</span><span class="hl-0">, </span><span class="hl-1">usuario</span><span class="hl-0">: </span><span class="hl-1">string</span><span class="hl-0">) {</span><br/><span class="hl-0">    </span><span class="hl-3">const</span><span class="hl-0"> </span><span class="hl-4">fileName</span><span class="hl-0"> = </span><span class="hl-1">funko</span><span class="hl-0">.</span><span class="hl-1">id</span><span class="hl-0"> + </span><span class="hl-5">&quot;.json&quot;</span><span class="hl-0">;</span><br/><span class="hl-0">    </span><span class="hl-3">const</span><span class="hl-0"> </span><span class="hl-4">dirName</span><span class="hl-0"> = </span><span class="hl-1">usuario</span><span class="hl-0">.</span><span class="hl-2">toLowerCase</span><span class="hl-0">().</span><span class="hl-2">replace</span><span class="hl-0">(</span><span class="hl-6">/\s</span><span class="hl-7">+</span><span class="hl-6">/</span><span class="hl-3">g</span><span class="hl-0">, </span><span class="hl-5">&quot;-&quot;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-3">const</span><span class="hl-0"> </span><span class="hl-4">filePath</span><span class="hl-0"> = </span><span class="hl-5">`./funkos/</span><span class="hl-3">${</span><span class="hl-1">dirName</span><span class="hl-3">}</span><span class="hl-5">/</span><span class="hl-3">${</span><span class="hl-1">fileName</span><span class="hl-3">}</span><span class="hl-5">`</span><span class="hl-0">;</span><br/><span class="hl-0">  </span><br/><span class="hl-0">    </span><span class="hl-8">if</span><span class="hl-0"> (</span><span class="hl-1">fs</span><span class="hl-0">.</span><span class="hl-2">existsSync</span><span class="hl-0">(</span><span class="hl-1">filePath</span><span class="hl-0">)) {</span><br/><span class="hl-0">      </span><span class="hl-1">console</span><span class="hl-0">.</span><span class="hl-2">log</span><span class="hl-0">(</span><span class="hl-1">chalk</span><span class="hl-0">.</span><span class="hl-1">bold</span><span class="hl-0">.</span><span class="hl-2">red</span><span class="hl-0">(</span><span class="hl-5">`Ya existe un Funko con el nombre </span><span class="hl-3">${</span><span class="hl-1">funko</span><span class="hl-9">.</span><span class="hl-1">nombre</span><span class="hl-3">}</span><span class="hl-5"> en el directorio </span><span class="hl-3">${</span><span class="hl-1">dirName</span><span class="hl-3">}</span><span class="hl-5">`</span><span class="hl-0">));</span><br/><span class="hl-0">      </span><span class="hl-8">return</span><span class="hl-0">;</span><br/><span class="hl-0">    }</span><br/><span class="hl-0">  </span><br/><span class="hl-0">    </span><span class="hl-1">fs</span><span class="hl-0">.</span><span class="hl-2">mkdirSync</span><span class="hl-0">(</span><span class="hl-5">`./funkos/</span><span class="hl-3">${</span><span class="hl-1">dirName</span><span class="hl-3">}</span><span class="hl-5">`</span><span class="hl-0">, { </span><span class="hl-1">recursive:</span><span class="hl-0"> </span><span class="hl-3">true</span><span class="hl-0"> });</span><br/><span class="hl-0">    </span><span class="hl-1">fs</span><span class="hl-0">.</span><span class="hl-2">writeFileSync</span><span class="hl-0">(</span><span class="hl-1">filePath</span><span class="hl-0">, </span><span class="hl-4">JSON</span><span class="hl-0">.</span><span class="hl-2">stringify</span><span class="hl-0">(</span><span class="hl-1">funko</span><span class="hl-0">));</span><br/><span class="hl-0">    </span><span class="hl-1">console</span><span class="hl-0">.</span><span class="hl-2">log</span><span class="hl-0">(</span><span class="hl-1">chalk</span><span class="hl-0">.</span><span class="hl-1">green</span><span class="hl-0">.</span><span class="hl-2">bold</span><span class="hl-0">(</span><span class="hl-5">`El Funko &quot;</span><span class="hl-3">${</span><span class="hl-1">funko</span><span class="hl-9">.</span><span class="hl-1">nombre</span><span class="hl-3">}</span><span class="hl-5">&quot; fue almacenado correctamente.`</span><span class="hl-0">));</span><br/><span class="hl-0">  }</span>
</code></pre>
<p>Este código es una función escrita en TypeScript  que almacena información sobre un Funko en un archivo JSON dentro de un directorio específico en el sistema de archivos.</p>
<p>La función toma dos argumentos: el objeto Funko que contiene la información sobre el Funko que se va a almacenar y el nombre del usuario que posee el Funko.</p>
<p>Primero, se construye el nombre del archivo utilizando el ID del Funko y la extensión &quot;.json&quot;. Luego, se crea un nombre de directorio utilizando el nombre del usuario proporcionado en minúsculas y con espacios en blanco reemplazados por guiones (&quot;-&quot;). El directorio se crea si no existe ya.</p>
<p>La función luego verifica si el archivo ya existe en el directorio especificado usando la función fs.existsSync(). Si el archivo ya existe, la función devuelve un mensaje de error y no continúa. De lo contrario, se escribe el archivo JSON en la ubicación especificada utilizando fs.writeFileSync(). Finalmente, se imprime un mensaje de éxito en la consola.</p>

<a href="#modificar-funko" id="modificar-funko" style="color: inherit; text-decoration: none;">
  <h2>Modificar Funko</h2>
</a>
<pre><code class="language-ts"><span class="hl-0">  </span><span class="hl-1">public</span><span class="hl-0"> </span><span class="hl-2">modificarFunkoUsuario</span><span class="hl-0">(</span><span class="hl-1">id</span><span class="hl-0">: </span><span class="hl-1">number</span><span class="hl-0">, </span><span class="hl-1">nuevoFunko</span><span class="hl-0">: </span><span class="hl-1">Funko</span><span class="hl-0">, </span><span class="hl-1">usuario</span><span class="hl-0">: </span><span class="hl-1">string</span><span class="hl-0">) {</span><br/><span class="hl-0">    </span><span class="hl-3">const</span><span class="hl-0"> </span><span class="hl-4">dirName</span><span class="hl-0"> = </span><span class="hl-1">usuario</span><span class="hl-0">.</span><span class="hl-2">toLowerCase</span><span class="hl-0">().</span><span class="hl-2">replace</span><span class="hl-0">(</span><span class="hl-6">/\s</span><span class="hl-7">+</span><span class="hl-6">/</span><span class="hl-3">g</span><span class="hl-0">, </span><span class="hl-5">&quot;-&quot;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-3">const</span><span class="hl-0"> </span><span class="hl-4">filePath</span><span class="hl-0"> = </span><span class="hl-5">`./funkos/</span><span class="hl-3">${</span><span class="hl-1">dirName</span><span class="hl-3">}</span><span class="hl-5">/</span><span class="hl-3">${</span><span class="hl-1">id</span><span class="hl-9">.</span><span class="hl-2">toString</span><span class="hl-9">()</span><span class="hl-3">}</span><span class="hl-5">.json`</span><span class="hl-0">;</span><br/><br/><span class="hl-0">    </span><span class="hl-8">if</span><span class="hl-0"> (</span><span class="hl-1">fs</span><span class="hl-0">.</span><span class="hl-2">existsSync</span><span class="hl-0">(</span><span class="hl-1">filePath</span><span class="hl-0">)) {</span><br/><span class="hl-0">      </span><span class="hl-3">const</span><span class="hl-0"> </span><span class="hl-4">nuevoContenido</span><span class="hl-0"> = </span><span class="hl-4">JSON</span><span class="hl-0">.</span><span class="hl-2">stringify</span><span class="hl-0">(</span><span class="hl-1">nuevoFunko</span><span class="hl-0">);</span><br/><span class="hl-0">      </span><span class="hl-1">fs</span><span class="hl-0">.</span><span class="hl-2">writeFileSync</span><span class="hl-0">(</span><span class="hl-1">filePath</span><span class="hl-0">, </span><span class="hl-1">nuevoContenido</span><span class="hl-0">, </span><span class="hl-5">&quot;utf8&quot;</span><span class="hl-0">);</span><br/><span class="hl-0">      </span><span class="hl-1">console</span><span class="hl-0">.</span><span class="hl-2">log</span><span class="hl-0">(</span><br/><span class="hl-0">        </span><span class="hl-1">chalk</span><span class="hl-0">.</span><span class="hl-1">bold</span><span class="hl-0">.</span><span class="hl-2">green</span><span class="hl-0">(</span><span class="hl-5">`El Funko &quot;</span><span class="hl-3">${</span><span class="hl-1">id</span><span class="hl-9">.</span><span class="hl-2">toString</span><span class="hl-9">()</span><span class="hl-3">}</span><span class="hl-5">&quot; ha sido modificado exitosamente.`</span><span class="hl-0">)</span><br/><span class="hl-0">      );</span><br/><span class="hl-0">    } </span><span class="hl-8">else</span><span class="hl-0"> {</span><br/><span class="hl-0">      </span><span class="hl-1">console</span><span class="hl-0">.</span><span class="hl-2">log</span><span class="hl-0">(</span><span class="hl-1">chalk</span><span class="hl-0">.</span><span class="hl-1">bold</span><span class="hl-0">.</span><span class="hl-2">red</span><span class="hl-0">(</span><span class="hl-5">`No se encontró el archivo del Funko &quot;</span><span class="hl-3">${</span><span class="hl-1">id</span><span class="hl-9">.</span><span class="hl-2">toString</span><span class="hl-9">()</span><span class="hl-3">}</span><span class="hl-5">&quot;.`</span><span class="hl-0">));</span><br/><span class="hl-0">    }</span><br/><span class="hl-0">  }</span>
</code></pre>
<p>La función toma tres argumentos: el ID del Funko que se va a modificar, el objeto Funko que contiene la nueva información que se utilizará para actualizar el archivo JSON y el nombre de usuario que posee el Funko.</p>
<p>En primer lugar, la función construye la ruta al archivo utilizando el ID del Funko, el nombre de usuario y el directorio donde se almacenan los archivos JSON. El nombre de usuario se normaliza a minúsculas y con espacios en blanco reemplazados por guiones (&quot;-&quot;).</p>
<p>A continuación, se verifica si el archivo existe en la ruta especificada utilizando la función fs.existsSync(). Si el archivo existe, se sobrescribe con el nuevo contenido utilizando la función fs.writeFileSync(). El nuevo contenido es el objeto Funko serializado a JSON utilizando la función JSON.stringify(). Finalmente, se imprime un mensaje de éxito en la consola utilizando la biblioteca chalk.</p>
<p>Si el archivo no existe en la ruta especificada, se imprime un mensaje de error en la consola utilizando chalk.</p>
<p>Cabe destacar que este código hace uso de las bibliotecas Node.js fs y chalk. La primera se utiliza para interactuar con el sistema de archivos y la segunda para agregar colores y estilos a los mensajes de la consola.</p>

<a href="#eliminar-funko" id="eliminar-funko" style="color: inherit; text-decoration: none;">
  <h2>Eliminar funko</h2>
</a>
<pre><code class="language-ts"><span class="hl-0">  </span><span class="hl-1">public</span><span class="hl-0"> </span><span class="hl-2">eliminarFunkoUsuario</span><span class="hl-0">(</span><span class="hl-1">id</span><span class="hl-0">: </span><span class="hl-1">number</span><span class="hl-0">, </span><span class="hl-1">usuario</span><span class="hl-0">: </span><span class="hl-1">string</span><span class="hl-0">) {</span><br/><span class="hl-0">    </span><span class="hl-3">const</span><span class="hl-0"> </span><span class="hl-4">fileName</span><span class="hl-0"> = </span><span class="hl-1">id</span><span class="hl-0">.</span><span class="hl-2">toString</span><span class="hl-0">() + </span><span class="hl-5">&quot;.json&quot;</span><span class="hl-0">;</span><br/><span class="hl-0">    </span><span class="hl-3">const</span><span class="hl-0"> </span><span class="hl-4">dirName</span><span class="hl-0"> = </span><span class="hl-1">usuario</span><span class="hl-0">.</span><span class="hl-2">toLowerCase</span><span class="hl-0">().</span><span class="hl-2">replace</span><span class="hl-0">(</span><span class="hl-6">/\s</span><span class="hl-7">+</span><span class="hl-6">/</span><span class="hl-3">g</span><span class="hl-0">, </span><span class="hl-5">&quot;-&quot;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-3">const</span><span class="hl-0"> </span><span class="hl-4">filePath</span><span class="hl-0"> = </span><span class="hl-5">`./funkos/</span><span class="hl-3">${</span><span class="hl-1">dirName</span><span class="hl-3">}</span><span class="hl-5">/</span><span class="hl-3">${</span><span class="hl-1">fileName</span><span class="hl-3">}</span><span class="hl-5">`</span><span class="hl-0">;</span><br/><br/><span class="hl-0">    </span><span class="hl-8">try</span><span class="hl-0"> {</span><br/><span class="hl-0">      </span><span class="hl-1">fs</span><span class="hl-0">.</span><span class="hl-2">unlinkSync</span><span class="hl-0">(</span><span class="hl-1">filePath</span><span class="hl-0">);</span><br/><span class="hl-0">      </span><span class="hl-1">console</span><span class="hl-0">.</span><span class="hl-2">log</span><span class="hl-0">(</span><span class="hl-1">chalk</span><span class="hl-0">.</span><span class="hl-1">green</span><span class="hl-0">.</span><span class="hl-2">bold</span><span class="hl-0">(</span><span class="hl-5">`El Funko &quot;</span><span class="hl-3">${</span><span class="hl-1">id</span><span class="hl-3">}</span><span class="hl-5">&quot; fue eliminado correctamente.`</span><span class="hl-0">));</span><br/><span class="hl-0">      </span><span class="hl-8">return</span><span class="hl-0"> </span><span class="hl-3">true</span><br/><span class="hl-0">    } </span><span class="hl-8">catch</span><span class="hl-0"> (</span><span class="hl-1">error</span><span class="hl-0">) {</span><br/><span class="hl-0">      </span><span class="hl-1">console</span><span class="hl-0">.</span><span class="hl-2">error</span><span class="hl-0">(</span><span class="hl-1">chalk</span><span class="hl-0">.</span><span class="hl-1">red</span><span class="hl-0">.</span><span class="hl-2">bold</span><span class="hl-0">(</span><span class="hl-5">`Error al intentar eliminar el Funko &quot;</span><span class="hl-3">${</span><span class="hl-1">id</span><span class="hl-3">}</span><span class="hl-5">&quot;`</span><span class="hl-0">));</span><br/><span class="hl-0">      </span><span class="hl-8">return</span><span class="hl-0"> </span><span class="hl-3">false</span><br/><span class="hl-0">    }</span><br/><span class="hl-0">  }</span>
</code></pre>
<p>Este es un método que elimina un archivo JSON que contiene información sobre un Funko en un directorio específico del sistema de archivos.</p>
<p>La función toma dos argumentos: el ID del Funko que se va a eliminar y el nombre de usuario que posee el Funko.</p>
<p>En primer lugar, la función construye la ruta al archivo utilizando el ID del Funko, el nombre de usuario y el directorio donde se almacenan los archivos JSON. El nombre de usuario se normaliza a minúsculas y con espacios en blanco reemplazados por guiones (&quot;-&quot;).</p>
<p>A continuación, se intenta eliminar el archivo utilizando la función fs.unlinkSync(). Si el archivo se elimina correctamente, se imprime un mensaje de éxito en la consola utilizando la biblioteca chalk y la función devuelve true. De lo contrario, se imprime un mensaje de error en la consola y la función devuelve false.</p>
<p>Cabe destacar que este código utiliza un bloque try-catch para manejar cualquier error que pueda ocurrir al intentar eliminar el archivo.</p>

<a href="#listar-elemento" id="listar-elemento" style="color: inherit; text-decoration: none;">
  <h2>Listar elemento</h2>
</a>
<pre><code class="language-ts"><span class="hl-0">  </span><span class="hl-1">public</span><span class="hl-0"> </span><span class="hl-2">listarFunkosUsuario</span><span class="hl-0">(</span><span class="hl-1">usuario</span><span class="hl-0">: </span><span class="hl-1">string</span><span class="hl-0">) {</span><br/><span class="hl-0">    </span><span class="hl-3">const</span><span class="hl-0"> </span><span class="hl-4">valorMinimo</span><span class="hl-0"> = </span><span class="hl-10">0</span><span class="hl-0">;</span><br/><span class="hl-0">    </span><span class="hl-3">const</span><span class="hl-0"> </span><span class="hl-4">valorBajo</span><span class="hl-0"> = </span><span class="hl-10">50</span><span class="hl-0">;</span><br/><span class="hl-0">    </span><span class="hl-3">const</span><span class="hl-0"> </span><span class="hl-4">valorMedio</span><span class="hl-0"> = </span><span class="hl-10">100</span><span class="hl-0">;</span><br/><span class="hl-0">    </span><span class="hl-3">const</span><span class="hl-0"> </span><span class="hl-4">valorAlto</span><span class="hl-0"> = </span><span class="hl-10">500</span><span class="hl-0">;</span><br/><span class="hl-0">  </span><br/><span class="hl-0">    </span><span class="hl-1">console</span><span class="hl-0">.</span><span class="hl-2">log</span><span class="hl-0">(</span><span class="hl-1">chalk</span><span class="hl-0">.</span><span class="hl-2">bold</span><span class="hl-0">(</span><span class="hl-5">&quot;Funkos existentes:&quot;</span><span class="hl-0">));</span><br/><span class="hl-0">    </span><span class="hl-3">let</span><span class="hl-0"> </span><span class="hl-1">funkos</span><span class="hl-0"> = </span><span class="hl-3">this</span><span class="hl-0">.</span><span class="hl-2">cargarFunkosUsuario</span><span class="hl-0">(</span><span class="hl-1">usuario</span><span class="hl-0">);</span><br/><span class="hl-0">  </span><br/><span class="hl-0">    </span><span class="hl-8">if</span><span class="hl-0"> (</span><span class="hl-1">funkos</span><span class="hl-0">.</span><span class="hl-1">length</span><span class="hl-0"> === </span><span class="hl-10">0</span><span class="hl-0">) {</span><br/><span class="hl-0">      </span><span class="hl-1">console</span><span class="hl-0">.</span><span class="hl-2">log</span><span class="hl-0">(</span><span class="hl-1">chalk</span><span class="hl-0">.</span><span class="hl-1">bold</span><span class="hl-0">.</span><span class="hl-2">red</span><span class="hl-0">(</span><span class="hl-5">&quot;No se encontraron funkos para el usuario: &quot;</span><span class="hl-0"> + </span><span class="hl-1">usuario</span><span class="hl-0">));</span><br/><span class="hl-0">      </span><span class="hl-8">return</span><span class="hl-0"> </span><span class="hl-3">false</span><br/><span class="hl-0">    }</span><br/><span class="hl-0">  </span><br/><span class="hl-0">    </span><span class="hl-8">for</span><span class="hl-0"> (</span><span class="hl-3">const</span><span class="hl-0"> </span><span class="hl-4">funko</span><span class="hl-0"> </span><span class="hl-3">of</span><span class="hl-0"> </span><span class="hl-1">funkos</span><span class="hl-0">) {</span><br/><span class="hl-0">      </span><span class="hl-3">const</span><span class="hl-0"> </span><span class="hl-4">valor</span><span class="hl-0"> = </span><span class="hl-1">funko</span><span class="hl-0">.</span><span class="hl-1">valorDeMercado</span><span class="hl-0">;</span><br/><span class="hl-0">  </span><br/><span class="hl-0">      </span><span class="hl-3">let</span><span class="hl-0"> </span><span class="hl-1">valorColoreado</span><span class="hl-0">: </span><span class="hl-11">string</span><span class="hl-0">;</span><br/><span class="hl-0">  </span><br/><span class="hl-0">      </span><span class="hl-8">if</span><span class="hl-0"> (</span><span class="hl-1">valor</span><span class="hl-0"> &gt;= </span><span class="hl-10">200</span><span class="hl-0">) {</span><br/><span class="hl-0">        </span><span class="hl-1">valorColoreado</span><span class="hl-0"> = </span><span class="hl-1">chalk</span><span class="hl-0">.</span><span class="hl-1">green</span><span class="hl-0">.</span><span class="hl-2">bold</span><span class="hl-0">(</span><span class="hl-1">valor</span><span class="hl-0">.</span><span class="hl-2">toFixed</span><span class="hl-0">(</span><span class="hl-10">2</span><span class="hl-0">));</span><br/><span class="hl-0">      } </span><span class="hl-8">else</span><span class="hl-0"> </span><span class="hl-8">if</span><span class="hl-0"> (</span><span class="hl-1">valor</span><span class="hl-0"> &gt;= </span><span class="hl-10">150</span><span class="hl-0">) {</span><br/><span class="hl-0">        </span><span class="hl-1">valorColoreado</span><span class="hl-0"> = </span><span class="hl-1">chalk</span><span class="hl-0">.</span><span class="hl-1">yellow</span><span class="hl-0">.</span><span class="hl-2">bold</span><span class="hl-0">(</span><span class="hl-1">valor</span><span class="hl-0">.</span><span class="hl-2">toFixed</span><span class="hl-0">(</span><span class="hl-10">2</span><span class="hl-0">));</span><br/><span class="hl-0">      } </span><span class="hl-8">else</span><span class="hl-0"> </span><span class="hl-8">if</span><span class="hl-0"> (</span><span class="hl-1">valor</span><span class="hl-0"> &gt;= </span><span class="hl-10">100</span><span class="hl-0">) {</span><br/><span class="hl-0">        </span><span class="hl-1">valorColoreado</span><span class="hl-0"> = </span><span class="hl-1">chalk</span><span class="hl-0">.</span><span class="hl-1">blue</span><span class="hl-0">.</span><span class="hl-2">bold</span><span class="hl-0">(</span><span class="hl-1">valor</span><span class="hl-0">.</span><span class="hl-2">toFixed</span><span class="hl-0">(</span><span class="hl-10">2</span><span class="hl-0">));</span><br/><span class="hl-0">      } </span><span class="hl-8">else</span><span class="hl-0"> {</span><br/><span class="hl-0">        </span><span class="hl-1">valorColoreado</span><span class="hl-0"> = </span><span class="hl-1">chalk</span><span class="hl-0">.</span><span class="hl-1">red</span><span class="hl-0">.</span><span class="hl-2">bold</span><span class="hl-0">(</span><span class="hl-1">valor</span><span class="hl-0">.</span><span class="hl-2">toFixed</span><span class="hl-0">(</span><span class="hl-10">2</span><span class="hl-0">));</span><br/><span class="hl-0">      }</span><br/><span class="hl-0">  </span><br/><span class="hl-0">      </span><span class="hl-1">console</span><span class="hl-0">.</span><span class="hl-2">log</span><span class="hl-0">(</span><br/><span class="hl-0">        </span><span class="hl-1">chalk</span><span class="hl-0">.</span><span class="hl-1">bold</span><span class="hl-0">.</span><span class="hl-2">magenta</span><span class="hl-0">(</span><span class="hl-1">funko</span><span class="hl-0">.</span><span class="hl-1">nombre</span><span class="hl-0">) +</span><br/><span class="hl-0">          </span><span class="hl-5">&quot; - Valor de mercado: &quot;</span><span class="hl-0"> +</span><br/><span class="hl-0">          </span><span class="hl-1">valorColoreado</span><br/><span class="hl-0">      );</span><br/><span class="hl-0">    }</span><br/><span class="hl-0">    </span><span class="hl-8">return</span><span class="hl-0"> </span><span class="hl-3">true</span><br/><span class="hl-0">  }</span>
</code></pre>
<p>Este método es responsable de listar los Funkos almacenados en el sistema de archivos para un usuario en particular y muestra información sobre cada uno de ellos en la consola.</p>
<p>La función toma un argumento, que es el nombre de usuario del que se listarán los Funkos.</p>
<p>En primer lugar, la función define cuatro variables de valor mínimo, bajo, medio y alto para utilizar más adelante para resaltar el valor de mercado de cada Funko. A continuación, se carga la lista de Funkos para el usuario especificado mediante la llamada a la función cargarFunkosUsuario().</p>
<p>Si la lista de Funkos está vacía, la función imprime un mensaje en la consola que indica que no se encontraron Funkos para el usuario especificado y devuelve false.</p>
<p>De lo contrario, la función itera sobre cada uno de los Funkos de la lista y para cada uno de ellos, se compara su valor de mercado con los valores mínimo, bajo, medio y alto definidos anteriormente. En función de este valor, se le asigna un color específico utilizando la biblioteca chalk.</p>
<p>Luego, se muestra el nombre del Funko y su valor de mercado en la consola, resaltando este último con el color asignado anteriormente.</p>
<p>Finalmente, la función devuelve true.</p>

<a href="#mostrar-funko" id="mostrar-funko" style="color: inherit; text-decoration: none;">
  <h2>Mostrar Funko</h2>
</a>
<pre><code class="language-ts"><span class="hl-1">public</span><span class="hl-0"> </span><span class="hl-2">mostrarFunkoUsuario</span><span class="hl-0">(</span><span class="hl-1">id</span><span class="hl-0">: </span><span class="hl-1">number</span><span class="hl-0">, </span><span class="hl-1">usuario</span><span class="hl-0">: </span><span class="hl-1">string</span><span class="hl-0">): </span><span class="hl-1">boolean</span><span class="hl-0">{</span><br/><span class="hl-0">    </span><span class="hl-3">const</span><span class="hl-0"> </span><span class="hl-4">fileName</span><span class="hl-0"> = </span><span class="hl-5">`</span><span class="hl-3">${</span><span class="hl-1">id</span><span class="hl-3">}</span><span class="hl-5">.json`</span><span class="hl-0">;</span><br/><span class="hl-0">    </span><span class="hl-3">const</span><span class="hl-0"> </span><span class="hl-4">dirName</span><span class="hl-0"> = </span><span class="hl-1">usuario</span><span class="hl-0">.</span><span class="hl-2">toLowerCase</span><span class="hl-0">().</span><span class="hl-2">replace</span><span class="hl-0">(</span><span class="hl-6">/\s</span><span class="hl-7">+</span><span class="hl-6">/</span><span class="hl-3">g</span><span class="hl-0">, </span><span class="hl-5">&quot;-&quot;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-3">const</span><span class="hl-0"> </span><span class="hl-4">filePath</span><span class="hl-0"> = </span><span class="hl-5">`./funkos/</span><span class="hl-3">${</span><span class="hl-1">dirName</span><span class="hl-3">}</span><span class="hl-5">/</span><span class="hl-3">${</span><span class="hl-1">fileName</span><span class="hl-3">}</span><span class="hl-5">`</span><span class="hl-0">;</span><br/><br/><span class="hl-0">    </span><span class="hl-8">try</span><span class="hl-0"> {</span><br/><span class="hl-0">      </span><span class="hl-3">const</span><span class="hl-0"> </span><span class="hl-4">data</span><span class="hl-0"> = </span><span class="hl-1">fs</span><span class="hl-0">.</span><span class="hl-2">readFileSync</span><span class="hl-0">(</span><span class="hl-1">filePath</span><span class="hl-0">, </span><span class="hl-5">&quot;utf8&quot;</span><span class="hl-0">);</span><br/><span class="hl-0">      </span><span class="hl-3">const</span><span class="hl-0"> </span><span class="hl-4">foundFunko</span><span class="hl-0"> = </span><span class="hl-4">JSON</span><span class="hl-0">.</span><span class="hl-2">parse</span><span class="hl-0">(</span><span class="hl-1">data</span><span class="hl-0">);</span><br/><span class="hl-0">      </span><span class="hl-1">console</span><span class="hl-0">.</span><span class="hl-2">log</span><span class="hl-0">(</span><span class="hl-1">chalk</span><span class="hl-0">.</span><span class="hl-1">magenta</span><span class="hl-0">.</span><span class="hl-2">bold</span><span class="hl-0">(</span><span class="hl-5">`Información del Funko con ID </span><span class="hl-3">${</span><span class="hl-1">id</span><span class="hl-3">}</span><span class="hl-5">:`</span><span class="hl-0">));</span><br/><span class="hl-0">      </span><span class="hl-1">console</span><span class="hl-0">.</span><span class="hl-2">log</span><span class="hl-0">(</span><span class="hl-5">`Nombre: </span><span class="hl-3">${</span><span class="hl-1">foundFunko</span><span class="hl-9">.</span><span class="hl-1">nombre</span><span class="hl-3">}</span><span class="hl-5">`</span><span class="hl-0">);</span><br/><span class="hl-0">      </span><span class="hl-1">console</span><span class="hl-0">.</span><span class="hl-2">log</span><span class="hl-0">(</span><span class="hl-5">`Descripción: </span><span class="hl-3">${</span><span class="hl-1">foundFunko</span><span class="hl-9">.</span><span class="hl-1">descripcion</span><span class="hl-3">}</span><span class="hl-5">`</span><span class="hl-0">);</span><br/><span class="hl-0">      </span><span class="hl-1">console</span><span class="hl-0">.</span><span class="hl-2">log</span><span class="hl-0">(</span><span class="hl-5">`Tipo: </span><span class="hl-3">${</span><span class="hl-1">foundFunko</span><span class="hl-9">.</span><span class="hl-1">tipo</span><span class="hl-3">}</span><span class="hl-5">`</span><span class="hl-0">);</span><br/><span class="hl-0">      </span><span class="hl-1">console</span><span class="hl-0">.</span><span class="hl-2">log</span><span class="hl-0">(</span><span class="hl-5">`Género: </span><span class="hl-3">${</span><span class="hl-1">foundFunko</span><span class="hl-9">.</span><span class="hl-1">genero</span><span class="hl-3">}</span><span class="hl-5">`</span><span class="hl-0">);</span><br/><span class="hl-0">      </span><span class="hl-1">console</span><span class="hl-0">.</span><span class="hl-2">log</span><span class="hl-0">(</span><span class="hl-5">`Franquicia: </span><span class="hl-3">${</span><span class="hl-1">foundFunko</span><span class="hl-9">.</span><span class="hl-1">franquicia</span><span class="hl-3">}</span><span class="hl-5">`</span><span class="hl-0">);</span><br/><span class="hl-0">      </span><span class="hl-1">console</span><span class="hl-0">.</span><span class="hl-2">log</span><span class="hl-0">(</span><span class="hl-5">`Número: </span><span class="hl-3">${</span><span class="hl-1">foundFunko</span><span class="hl-9">.</span><span class="hl-1">numero</span><span class="hl-3">}</span><span class="hl-5">`</span><span class="hl-0">);</span><br/><span class="hl-0">      </span><span class="hl-1">console</span><span class="hl-0">.</span><span class="hl-2">log</span><span class="hl-0">(</span><span class="hl-5">`Exclusivo: </span><span class="hl-3">${</span><span class="hl-1">foundFunko</span><span class="hl-9">.</span><span class="hl-1">exclusivo</span><span class="hl-9"> </span><span class="hl-0">?</span><span class="hl-9"> </span><span class="hl-5">&quot;Sí&quot;</span><span class="hl-9"> </span><span class="hl-0">:</span><span class="hl-9"> </span><span class="hl-5">&quot;No&quot;</span><span class="hl-3">}</span><span class="hl-5">`</span><span class="hl-0">);</span><br/><span class="hl-0">      </span><span class="hl-1">console</span><span class="hl-0">.</span><span class="hl-2">log</span><span class="hl-0">(</span><br/><span class="hl-0">        </span><span class="hl-5">`Características especiales: </span><span class="hl-3">${</span><span class="hl-1">foundFunko</span><span class="hl-9">.</span><span class="hl-1">caracteristicasEspeciales</span><span class="hl-3">}</span><span class="hl-5">`</span><br/><span class="hl-0">      );</span><br/><br/><span class="hl-0">      </span><span class="hl-3">const</span><span class="hl-0"> </span><span class="hl-4">valor</span><span class="hl-0"> = </span><span class="hl-1">foundFunko</span><span class="hl-0">.</span><span class="hl-1">valorDeMercado</span><span class="hl-0">;</span><br/><span class="hl-0">      </span><span class="hl-3">let</span><span class="hl-0"> </span><span class="hl-1">color</span><span class="hl-0">: </span><span class="hl-11">ChalkInstance</span><span class="hl-0">;</span><br/><span class="hl-0">      </span><span class="hl-8">if</span><span class="hl-0"> (</span><span class="hl-1">valor</span><span class="hl-0"> &gt; </span><span class="hl-10">200</span><span class="hl-0">) {</span><br/><span class="hl-0">        </span><span class="hl-1">color</span><span class="hl-0"> = </span><span class="hl-1">chalk</span><span class="hl-0">.</span><span class="hl-1">green</span><span class="hl-0">;</span><br/><span class="hl-0">      } </span><span class="hl-8">else</span><span class="hl-0"> </span><span class="hl-8">if</span><span class="hl-0"> (</span><span class="hl-1">valor</span><span class="hl-0"> &gt;= </span><span class="hl-10">150</span><span class="hl-0">) {</span><br/><span class="hl-0">        </span><span class="hl-1">color</span><span class="hl-0"> = </span><span class="hl-1">chalk</span><span class="hl-0">.</span><span class="hl-1">yellow</span><span class="hl-0">;</span><br/><span class="hl-0">      } </span><span class="hl-8">else</span><span class="hl-0"> </span><span class="hl-8">if</span><span class="hl-0"> (</span><span class="hl-1">valor</span><span class="hl-0"> &gt;= </span><span class="hl-10">100</span><span class="hl-0">) {</span><br/><span class="hl-0">        </span><span class="hl-1">color</span><span class="hl-0"> = </span><span class="hl-1">chalk</span><span class="hl-0">.</span><span class="hl-1">blue</span><span class="hl-0">;</span><br/><span class="hl-0">      } </span><span class="hl-8">else</span><span class="hl-0"> {</span><br/><span class="hl-0">        </span><span class="hl-1">color</span><span class="hl-0"> = </span><span class="hl-1">chalk</span><span class="hl-0">.</span><span class="hl-1">red</span><span class="hl-0">;</span><br/><span class="hl-0">      }</span><br/><span class="hl-0">      </span><span class="hl-1">console</span><span class="hl-0">.</span><span class="hl-2">log</span><span class="hl-0">(</span><span class="hl-5">`Valor de mercado: </span><span class="hl-3">${</span><span class="hl-1">color</span><span class="hl-9">.</span><span class="hl-2">bold</span><span class="hl-9">(</span><span class="hl-5">`$</span><span class="hl-3">${</span><span class="hl-1">valor</span><span class="hl-9">.</span><span class="hl-2">toFixed</span><span class="hl-9">(</span><span class="hl-10">2</span><span class="hl-9">)</span><span class="hl-3">}</span><span class="hl-5">`</span><span class="hl-9">)</span><span class="hl-3">}</span><span class="hl-5">`</span><span class="hl-0">);</span><br/><span class="hl-0">      </span><span class="hl-8">return</span><span class="hl-0"> </span><span class="hl-3">true</span><br/><span class="hl-0">    } </span><span class="hl-8">catch</span><span class="hl-0"> (</span><span class="hl-1">err</span><span class="hl-0">) {</span><br/><span class="hl-0">      </span><span class="hl-1">console</span><span class="hl-0">.</span><span class="hl-2">log</span><span class="hl-0">(</span><span class="hl-1">chalk</span><span class="hl-0">.</span><span class="hl-2">red</span><span class="hl-0">(</span><span class="hl-5">`No existe un Funko con ID </span><span class="hl-3">${</span><span class="hl-1">id</span><span class="hl-3">}</span><span class="hl-5"> en la lista.`</span><span class="hl-0">));</span><br/><span class="hl-0">      </span><span class="hl-8">return</span><span class="hl-0"> </span><span class="hl-3">false</span><br/><span class="hl-0">    }</span><br/><span class="hl-0">  }</span>
</code></pre>
<p>Este código define un método llamado mostrarFunkoUsuario que recibe dos parámetros: id, un número que representa el identificador del Funko que se desea mostrar, y usuario, una cadena de texto que indica el usuario propietario del Funko.</p>
<p>El método comienza construyendo la ruta al archivo JSON correspondiente al Funko utilizando el id y el usuario. Luego, se utiliza la función readFileSync del módulo fs para leer el contenido del archivo y se almacena en la variable data.</p>
<p>Después, el método analiza el contenido de data utilizando la función JSON.parse para convertirlo en un objeto JSON. A continuación, se muestra información detallada sobre el Funko utilizando la función console.log, incluyendo el nombre, descripción, tipo, género, franquicia, número, si es exclusivo o no, y las características especiales del Funko.</p>
<p>Finalmente, se muestra el valor de mercado del Funko, que se determina utilizando una serie de condiciones. Si el valor de mercado es mayor a 200, el texto se muestra en verde; si está entre 150 y 200, se muestra en amarillo; si está entre 100 y 150, se muestra en azul; y si es menor a 100, se muestra en rojo.</p>
<p>Si se produce un error al intentar leer el archivo del Funko, se muestra un mensaje indicando que no existe un Funko con el id especificado en la lista, y el método devuelve false. En caso contrario, el método devuelve true.</p>

<a href="#api-síncrona-de-nodejs" id="api-síncrona-de-nodejs" style="color: inherit; text-decoration: none;">
  <h1>API síncrona de Node.js</h1>
</a>
<p>Hasta ahora ha sido &quot;sencillo&quot;, puesto que no se ha encontrado dificultades que retrasaran demasiado el proyecto.</p>
<p>De ahora en adelante se utilizará la librería yargs para la creación de comandos personalizados con el objetivo de poder manejar los funkos de los diferentes usuarios mediante terminal.</p>

<a href="#mostrar" id="mostrar" style="color: inherit; text-decoration: none;">
  <h2>Mostrar</h2>
</a>
<pre><code class="language-ts"><span class="hl-0">  .</span><span class="hl-2">command</span><span class="hl-0">(</span><br/><span class="hl-0">    </span><span class="hl-5">&quot;mostrar&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">    </span><span class="hl-5">&quot;Mostrar información de un Funko concreto&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">    {</span><br/><span class="hl-0">      </span><span class="hl-1">usuario:</span><span class="hl-0"> {</span><br/><span class="hl-0">        </span><span class="hl-1">description:</span><span class="hl-0"> </span><span class="hl-5">&quot;Propietario del Funko&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">        </span><span class="hl-1">type:</span><span class="hl-0"> </span><span class="hl-5">&quot;string&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">        </span><span class="hl-1">demandOption:</span><span class="hl-0"> </span><span class="hl-3">true</span><span class="hl-0">,</span><br/><span class="hl-0">      },</span><br/><span class="hl-0">      </span><span class="hl-1">id:</span><span class="hl-0"> {</span><br/><span class="hl-0">        </span><span class="hl-1">description:</span><span class="hl-0"> </span><span class="hl-5">&quot;ID del Funko&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">        </span><span class="hl-1">type:</span><span class="hl-0"> </span><span class="hl-5">&quot;number&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">        </span><span class="hl-1">demandOption:</span><span class="hl-0"> </span><span class="hl-3">true</span><span class="hl-0">,</span><br/><span class="hl-0">      },</span><br/><span class="hl-0">    },</span><br/><span class="hl-0">    (</span><span class="hl-1">argv</span><span class="hl-0">) </span><span class="hl-3">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">      </span><span class="hl-3">new</span><span class="hl-0"> </span><span class="hl-2">FuncosCollection</span><span class="hl-0">().</span><span class="hl-2">mostrarFunkoUsuario</span><span class="hl-0">(</span><span class="hl-1">argv</span><span class="hl-0">.</span><span class="hl-1">id</span><span class="hl-0">, </span><span class="hl-1">argv</span><span class="hl-0">.</span><span class="hl-1">usuario</span><span class="hl-0">);</span><br/><span class="hl-0">    }</span><br/><span class="hl-0">  )</span>
</code></pre>
<p>El comando mostrar requiere dos argumentos: usuario y id. El argumento usuario especifica el propietario del Funko que se desea mostrar, y el argumento id especifica el ID del Funko en cuestión.</p>
<p>El tercer argumento del método command es una función de callback que se ejecutará cuando se invoque el comando. Esta función instancia una nueva colección de Funkos y llama al método mostrarFunkoUsuario de esa colección, pasándole los valores de usuario e id como argumentos.</p>
<p>En resumen, este código define un comando mostrar que muestra la información de un Funko específico, y utiliza la colección de Funkos definida en el archivo para obtener la información.</p>

<a href="#listar" id="listar" style="color: inherit; text-decoration: none;">
  <h2>Listar</h2>
</a>
<pre><code class="language-ts"><span class="hl-0">.</span><span class="hl-2">command</span><span class="hl-0">(</span><br/><span class="hl-0">    </span><span class="hl-5">&quot;listar&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">    </span><span class="hl-5">&quot;Mostrar información de un Funko concreto&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">    {</span><br/><span class="hl-0">      </span><span class="hl-1">usuario:</span><span class="hl-0"> {</span><br/><span class="hl-0">        </span><span class="hl-1">description:</span><span class="hl-0"> </span><span class="hl-5">&quot;Propietario del Funko&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">        </span><span class="hl-1">type:</span><span class="hl-0"> </span><span class="hl-5">&quot;string&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">        </span><span class="hl-1">demandOption:</span><span class="hl-0"> </span><span class="hl-3">true</span><span class="hl-0">,</span><br/><span class="hl-0">      },</span><br/><span class="hl-0">    },</span><br/><span class="hl-0">    (</span><span class="hl-1">argv</span><span class="hl-0">) </span><span class="hl-3">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">      </span><span class="hl-3">new</span><span class="hl-0"> </span><span class="hl-2">FuncosCollection</span><span class="hl-0">().</span><span class="hl-2">listarFunkosUsuario</span><span class="hl-0">(</span><span class="hl-1">argv</span><span class="hl-0">.</span><span class="hl-1">usuario</span><span class="hl-0">);</span><br/><span class="hl-0">    }</span><br/><span class="hl-0">  )</span><br/>
</code></pre>
<p> El comando se llama &quot;listar&quot; y permite mostrar información de los Funkos de un usuario específico. El comando tiene un argumento &quot;usuario&quot; que es obligatorio y debe ser de tipo &quot;string&quot;. Cuando se ejecuta el comando, se llama al método &quot;listarFunkosUsuario&quot; de la clase &quot;FuncosCollection&quot; para mostrar la información de los Funkos del usuario especificado.</p>

<a href="#modificar" id="modificar" style="color: inherit; text-decoration: none;">
  <h2>Modificar</h2>
</a>
<pre><code class="language-ts"><span class="hl-0">.</span><span class="hl-2">command</span><span class="hl-0">(</span><br/><span class="hl-0">   </span><span class="hl-5">&quot;modificar&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">   </span><span class="hl-5">&quot;Mostrar información de un Funko concreto&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">   {</span><br/><span class="hl-0">     </span><span class="hl-1">usuario:</span><span class="hl-0"> {</span><br/><span class="hl-0">       </span><span class="hl-1">description:</span><span class="hl-0"> </span><span class="hl-5">&quot;Propietario del Funko&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">       </span><span class="hl-1">type:</span><span class="hl-0"> </span><span class="hl-5">&quot;string&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">       </span><span class="hl-1">demandOption:</span><span class="hl-0"> </span><span class="hl-3">true</span><span class="hl-0">,</span><br/><span class="hl-0">     },</span><br/><span class="hl-0">     </span><span class="hl-1">id:</span><span class="hl-0"> {</span><br/><span class="hl-0">       </span><span class="hl-1">description:</span><span class="hl-0"> </span><span class="hl-5">&quot;ID del Funko&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">       </span><span class="hl-1">type:</span><span class="hl-0"> </span><span class="hl-5">&quot;number&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">       </span><span class="hl-1">demand:</span><span class="hl-0"> </span><span class="hl-3">true</span><span class="hl-0">,</span><br/><span class="hl-0">     },</span><br/><span class="hl-0">     </span><span class="hl-1">nombre:</span><span class="hl-0"> {</span><br/><span class="hl-0">       </span><span class="hl-1">description:</span><span class="hl-0"> </span><span class="hl-5">&quot;Nombre del Funko&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">       </span><span class="hl-1">type:</span><span class="hl-0"> </span><span class="hl-5">&quot;string&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">       </span><span class="hl-1">demandOption:</span><span class="hl-0"> </span><span class="hl-3">true</span><span class="hl-0">,</span><br/><span class="hl-0">     },</span><br/><span class="hl-0">     </span><span class="hl-1">descripcion:</span><span class="hl-0"> {</span><br/><span class="hl-0">       </span><span class="hl-1">description:</span><span class="hl-0"> </span><span class="hl-5">&quot;Descripción del Funko&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">       </span><span class="hl-1">type:</span><span class="hl-0"> </span><span class="hl-5">&quot;string&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">       </span><span class="hl-1">demandOption:</span><span class="hl-0"> </span><span class="hl-3">true</span><span class="hl-0">,</span><br/><span class="hl-0">     },</span><br/><span class="hl-0">     </span><span class="hl-1">tipo:</span><span class="hl-0"> {</span><br/><span class="hl-0">       </span><span class="hl-1">description:</span><span class="hl-0"> </span><span class="hl-5">&quot;Tipo del Funko&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">       </span><span class="hl-1">type:</span><span class="hl-0"> </span><span class="hl-5">&quot;string&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">       </span><span class="hl-1">choices:</span><span class="hl-0"> </span><span class="hl-1">Object</span><span class="hl-0">.</span><span class="hl-2">values</span><span class="hl-0">(</span><span class="hl-1">Tipo</span><span class="hl-0">),</span><br/><span class="hl-0">       </span><span class="hl-1">demandOption:</span><span class="hl-0"> </span><span class="hl-3">true</span><span class="hl-0">,</span><br/><span class="hl-0">     },</span><br/><span class="hl-0">     </span><span class="hl-1">genero:</span><span class="hl-0"> {</span><br/><span class="hl-0">       </span><span class="hl-1">description:</span><span class="hl-0"> </span><span class="hl-5">&quot;Género del Funko&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">       </span><span class="hl-1">type:</span><span class="hl-0"> </span><span class="hl-5">&quot;string&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">       </span><span class="hl-1">choices:</span><span class="hl-0"> </span><span class="hl-1">Object</span><span class="hl-0">.</span><span class="hl-2">values</span><span class="hl-0">(</span><span class="hl-1">Genero</span><span class="hl-0">),</span><br/><span class="hl-0">       </span><span class="hl-1">demandOption:</span><span class="hl-0"> </span><span class="hl-3">true</span><span class="hl-0">,</span><br/><span class="hl-0">     },</span><br/><span class="hl-0">     </span><span class="hl-1">franquicia:</span><span class="hl-0"> {</span><br/><span class="hl-0">       </span><span class="hl-1">description:</span><span class="hl-0"> </span><span class="hl-5">&quot;Franquicia del Funko&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">       </span><span class="hl-1">type:</span><span class="hl-0"> </span><span class="hl-5">&quot;string&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">       </span><span class="hl-1">demandOption:</span><span class="hl-0"> </span><span class="hl-3">true</span><span class="hl-0">,</span><br/><span class="hl-0">     },</span><br/><span class="hl-0">     </span><span class="hl-1">numero:</span><span class="hl-0"> {</span><br/><span class="hl-0">       </span><span class="hl-1">description:</span><span class="hl-0"> </span><span class="hl-5">&quot;Número del Funko&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">       </span><span class="hl-1">type:</span><span class="hl-0"> </span><span class="hl-5">&quot;number&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">       </span><span class="hl-1">demandOption:</span><span class="hl-0"> </span><span class="hl-3">true</span><span class="hl-0">,</span><br/><span class="hl-0">     },</span><br/><span class="hl-0">     </span><span class="hl-1">exclusivo:</span><span class="hl-0"> {</span><br/><span class="hl-0">       </span><span class="hl-1">description:</span><span class="hl-0"> </span><span class="hl-5">&quot;¿Es exclusivo?&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">       </span><span class="hl-1">type:</span><span class="hl-0"> </span><span class="hl-5">&quot;boolean&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">       </span><span class="hl-1">default:</span><span class="hl-0"> </span><span class="hl-3">false</span><span class="hl-0">,</span><br/><span class="hl-0">     },</span><br/><span class="hl-0">     </span><span class="hl-1">caracteristicasEspeciales:</span><span class="hl-0"> {</span><br/><span class="hl-0">       </span><span class="hl-1">description:</span><span class="hl-0"> </span><span class="hl-5">&quot;Características especiales del Funko&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">       </span><span class="hl-1">type:</span><span class="hl-0"> </span><span class="hl-5">&quot;string&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">       </span><span class="hl-1">demandOption:</span><span class="hl-0"> </span><span class="hl-3">true</span><span class="hl-0">,</span><br/><span class="hl-0">     },</span><br/><span class="hl-0">     </span><span class="hl-1">valorDeMercado:</span><span class="hl-0"> {</span><br/><span class="hl-0">       </span><span class="hl-1">description:</span><span class="hl-0"> </span><span class="hl-5">&quot;Valor de mercado del Funko&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">       </span><span class="hl-1">type:</span><span class="hl-0"> </span><span class="hl-5">&quot;number&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">       </span><span class="hl-1">demandOption:</span><span class="hl-0"> </span><span class="hl-3">true</span><span class="hl-0">,</span><br/><span class="hl-0">     },</span><br/><span class="hl-0">   },</span><br/><span class="hl-0">   (</span><span class="hl-1">argv</span><span class="hl-0">) </span><span class="hl-3">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">     </span><span class="hl-3">new</span><span class="hl-0"> </span><span class="hl-2">FuncosCollection</span><span class="hl-0">().</span><span class="hl-2">modificarFunkoUsuario</span><span class="hl-0">(</span><br/><span class="hl-0">       </span><span class="hl-1">argv</span><span class="hl-0">.</span><span class="hl-1">id</span><span class="hl-0">,</span><br/><span class="hl-0">       </span><span class="hl-3">new</span><span class="hl-0"> </span><span class="hl-2">Funko</span><span class="hl-0">(</span><br/><span class="hl-0">         </span><span class="hl-1">argv</span><span class="hl-0">.</span><span class="hl-1">id</span><span class="hl-0">,</span><br/><span class="hl-0">         </span><span class="hl-1">argv</span><span class="hl-0">.</span><span class="hl-1">nombre</span><span class="hl-0">,</span><br/><span class="hl-0">         </span><span class="hl-1">argv</span><span class="hl-0">.</span><span class="hl-1">descripcion</span><span class="hl-0">,</span><br/><span class="hl-0">         </span><span class="hl-1">argv</span><span class="hl-0">.</span><span class="hl-1">tipo</span><span class="hl-0">,</span><br/><span class="hl-0">         </span><span class="hl-1">argv</span><span class="hl-0">.</span><span class="hl-1">genero</span><span class="hl-0">,</span><br/><span class="hl-0">         </span><span class="hl-1">argv</span><span class="hl-0">.</span><span class="hl-1">franquicia</span><span class="hl-0">,</span><br/><span class="hl-0">         </span><span class="hl-1">argv</span><span class="hl-0">.</span><span class="hl-1">numero</span><span class="hl-0">,</span><br/><span class="hl-0">         </span><span class="hl-1">argv</span><span class="hl-0">.</span><span class="hl-1">exclusivo</span><span class="hl-0">,</span><br/><span class="hl-0">         </span><span class="hl-1">argv</span><span class="hl-0">.</span><span class="hl-1">caracteristicasEspeciales</span><span class="hl-0">,</span><br/><span class="hl-0">         </span><span class="hl-1">argv</span><span class="hl-0">.</span><span class="hl-1">valorDeMercado</span><br/><span class="hl-0">       ),</span><br/><span class="hl-0">       </span><span class="hl-1">argv</span><span class="hl-0">.</span><span class="hl-1">usuario</span><br/><span class="hl-0">     );</span><br/><span class="hl-0">   }</span><br/><span class="hl-0"> )</span>
</code></pre>
<p> Cuando el comando se ejecuta, se llama a la función modificarFunkoUsuario() en la instancia de la clase FuncosCollection, que toma los argumentos proporcionados para actualizar la información del Funko en la colección del usuario correspondiente. La función toma el ID del Funko a modificar, un objeto Funko con las nuevas propiedades del Funko, y el nombre del propietario del Funko como argumentos.</p>

<a href="#eliminar" id="eliminar" style="color: inherit; text-decoration: none;">
  <h2>Eliminar</h2>
</a>
<pre><code class="language-ts"><span class="hl-0">.</span><span class="hl-2">command</span><span class="hl-0">(</span><br/><span class="hl-0">   </span><span class="hl-5">&quot;eliminar&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">   </span><span class="hl-5">&quot;Mostrar información de un Funko concreto&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">   {</span><br/><span class="hl-0">     </span><span class="hl-1">usuario:</span><span class="hl-0"> {</span><br/><span class="hl-0">       </span><span class="hl-1">description:</span><span class="hl-0"> </span><span class="hl-5">&quot;Propietario del Funko&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">       </span><span class="hl-1">type:</span><span class="hl-0"> </span><span class="hl-5">&quot;string&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">       </span><span class="hl-1">demandOption:</span><span class="hl-0"> </span><span class="hl-3">true</span><span class="hl-0">,</span><br/><span class="hl-0">     },</span><br/><span class="hl-0">     </span><span class="hl-1">id:</span><span class="hl-0"> {</span><br/><span class="hl-0">       </span><span class="hl-1">description:</span><span class="hl-0"> </span><span class="hl-5">&quot;ID del Funko&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">       </span><span class="hl-1">type:</span><span class="hl-0"> </span><span class="hl-5">&quot;number&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">       </span><span class="hl-1">demandOption:</span><span class="hl-0"> </span><span class="hl-3">true</span><span class="hl-0">,</span><br/><span class="hl-0">     },</span><br/><span class="hl-0">   },</span><br/><span class="hl-0">   (</span><span class="hl-1">argv</span><span class="hl-0">) </span><span class="hl-3">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">     </span><span class="hl-3">new</span><span class="hl-0"> </span><span class="hl-2">FuncosCollection</span><span class="hl-0">().</span><span class="hl-2">eliminarFunkoUsuario</span><span class="hl-0">(</span><span class="hl-1">argv</span><span class="hl-0">.</span><span class="hl-1">id</span><span class="hl-0">, </span><span class="hl-1">argv</span><span class="hl-0">.</span><span class="hl-1">usuario</span><span class="hl-0">);</span><br/><span class="hl-0">   }</span><br/><span class="hl-0"> )</span>
</code></pre>
<p>Cuando se ejecuta el comando &quot;eliminar&quot; con los argumentos &quot;usuario&quot; e &quot;id&quot;, el programa crea una instancia de la clase FuncosCollection y llama a su método eliminarFunkoUsuario, pasándole como argumentos el ID del Funko y el nombre del usuario. Este método busca el Funko con el ID proporcionado en la colección de ese usuario y lo elimina.</p>

<a href="#añadir" id="añadir" style="color: inherit; text-decoration: none;">
  <h2>Añadir</h2>
</a>
<pre><code class="language-ts"><span class="hl-0">.</span><span class="hl-2">command</span><span class="hl-0">(</span><br/><span class="hl-0">  </span><span class="hl-5">&quot;add&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-5">&quot;Añadir un nuevo Funko a la lista&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">  {</span><br/><span class="hl-0">    </span><span class="hl-1">usuario:</span><span class="hl-0"> {</span><br/><span class="hl-0">      </span><span class="hl-1">description:</span><span class="hl-0"> </span><span class="hl-5">&quot;Propietario del Funko&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-1">type:</span><span class="hl-0"> </span><span class="hl-5">&quot;string&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-1">demandOption:</span><span class="hl-0"> </span><span class="hl-3">true</span><span class="hl-0">,</span><br/><span class="hl-0">    },</span><br/><span class="hl-0">    </span><span class="hl-1">id:</span><span class="hl-0"> {</span><br/><span class="hl-0">      </span><span class="hl-1">description:</span><span class="hl-0"> </span><span class="hl-5">&quot;ID del Funko&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-1">type:</span><span class="hl-0"> </span><span class="hl-5">&quot;number&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-1">demand:</span><span class="hl-0"> </span><span class="hl-3">true</span><span class="hl-0">,</span><br/><span class="hl-0">    },</span><br/><span class="hl-0">    </span><span class="hl-1">nombre:</span><span class="hl-0"> {</span><br/><span class="hl-0">      </span><span class="hl-1">description:</span><span class="hl-0"> </span><span class="hl-5">&quot;Nombre del Funko&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-1">type:</span><span class="hl-0"> </span><span class="hl-5">&quot;string&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-1">demandOption:</span><span class="hl-0"> </span><span class="hl-3">true</span><span class="hl-0">,</span><br/><span class="hl-0">    },</span><br/><span class="hl-0">    </span><span class="hl-1">descripcion:</span><span class="hl-0"> {</span><br/><span class="hl-0">      </span><span class="hl-1">description:</span><span class="hl-0"> </span><span class="hl-5">&quot;Descripción del Funko&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-1">type:</span><span class="hl-0"> </span><span class="hl-5">&quot;string&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-1">demandOption:</span><span class="hl-0"> </span><span class="hl-3">true</span><span class="hl-0">,</span><br/><span class="hl-0">    },</span><br/><span class="hl-0">    </span><span class="hl-1">tipo:</span><span class="hl-0"> {</span><br/><span class="hl-0">      </span><span class="hl-1">description:</span><span class="hl-0"> </span><span class="hl-5">&quot;Tipo del Funko&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-1">type:</span><span class="hl-0"> </span><span class="hl-5">&quot;string&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-1">choices:</span><span class="hl-0"> </span><span class="hl-1">Object</span><span class="hl-0">.</span><span class="hl-2">values</span><span class="hl-0">(</span><span class="hl-1">Tipo</span><span class="hl-0">),</span><br/><span class="hl-0">      </span><span class="hl-1">demandOption:</span><span class="hl-0"> </span><span class="hl-3">true</span><span class="hl-0">,</span><br/><span class="hl-0">    },</span><br/><span class="hl-0">    </span><span class="hl-1">genero:</span><span class="hl-0"> {</span><br/><span class="hl-0">      </span><span class="hl-1">description:</span><span class="hl-0"> </span><span class="hl-5">&quot;Género del Funko&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-1">type:</span><span class="hl-0"> </span><span class="hl-5">&quot;string&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-1">choices:</span><span class="hl-0"> </span><span class="hl-1">Object</span><span class="hl-0">.</span><span class="hl-2">values</span><span class="hl-0">(</span><span class="hl-1">Genero</span><span class="hl-0">),</span><br/><span class="hl-0">      </span><span class="hl-1">demandOption:</span><span class="hl-0"> </span><span class="hl-3">true</span><span class="hl-0">,</span><br/><span class="hl-0">    },</span><br/><span class="hl-0">    </span><span class="hl-1">franquicia:</span><span class="hl-0"> {</span><br/><span class="hl-0">      </span><span class="hl-1">description:</span><span class="hl-0"> </span><span class="hl-5">&quot;Franquicia del Funko&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-1">type:</span><span class="hl-0"> </span><span class="hl-5">&quot;string&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-1">demandOption:</span><span class="hl-0"> </span><span class="hl-3">true</span><span class="hl-0">,</span><br/><span class="hl-0">    },</span><br/><span class="hl-0">    </span><span class="hl-1">numero:</span><span class="hl-0"> {</span><br/><span class="hl-0">      </span><span class="hl-1">description:</span><span class="hl-0"> </span><span class="hl-5">&quot;Número del Funko&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-1">type:</span><span class="hl-0"> </span><span class="hl-5">&quot;number&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-1">demandOption:</span><span class="hl-0"> </span><span class="hl-3">true</span><span class="hl-0">,</span><br/><span class="hl-0">    },</span><br/><span class="hl-0">    </span><span class="hl-1">exclusivo:</span><span class="hl-0"> {</span><br/><span class="hl-0">      </span><span class="hl-1">description:</span><span class="hl-0"> </span><span class="hl-5">&quot;¿Es exclusivo?&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-1">type:</span><span class="hl-0"> </span><span class="hl-5">&quot;boolean&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-1">default:</span><span class="hl-0"> </span><span class="hl-3">false</span><span class="hl-0">,</span><br/><span class="hl-0">    },</span><br/><span class="hl-0">    </span><span class="hl-1">caracteristicasEspeciales:</span><span class="hl-0"> {</span><br/><span class="hl-0">      </span><span class="hl-1">description:</span><span class="hl-0"> </span><span class="hl-5">&quot;Características especiales del Funko&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-1">type:</span><span class="hl-0"> </span><span class="hl-5">&quot;string&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-1">demandOption:</span><span class="hl-0"> </span><span class="hl-3">true</span><span class="hl-0">,</span><br/><span class="hl-0">    },</span><br/><span class="hl-0">    </span><span class="hl-1">valorDeMercado:</span><span class="hl-0"> {</span><br/><span class="hl-0">      </span><span class="hl-1">description:</span><span class="hl-0"> </span><span class="hl-5">&quot;Valor de mercado del Funko&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-1">type:</span><span class="hl-0"> </span><span class="hl-5">&quot;number&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-1">demandOption:</span><span class="hl-0"> </span><span class="hl-3">true</span><span class="hl-0">,</span><br/><span class="hl-0">    },</span><br/><span class="hl-0">  },</span><br/><span class="hl-0">  (</span><span class="hl-1">argv</span><span class="hl-0">) </span><span class="hl-3">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-3">const</span><span class="hl-0"> </span><span class="hl-4">nuevoFunko</span><span class="hl-0"> = </span><span class="hl-3">new</span><span class="hl-0"> </span><span class="hl-2">Funko</span><span class="hl-0">(</span><br/><span class="hl-0">      </span><span class="hl-1">argv</span><span class="hl-0">.</span><span class="hl-1">id</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-1">argv</span><span class="hl-0">.</span><span class="hl-1">nombre</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-1">argv</span><span class="hl-0">.</span><span class="hl-1">descripcion</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-1">argv</span><span class="hl-0">.</span><span class="hl-1">tipo</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-1">argv</span><span class="hl-0">.</span><span class="hl-1">genero</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-1">argv</span><span class="hl-0">.</span><span class="hl-1">franquicia</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-1">argv</span><span class="hl-0">.</span><span class="hl-1">numero</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-1">argv</span><span class="hl-0">.</span><span class="hl-1">exclusivo</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-1">argv</span><span class="hl-0">.</span><span class="hl-1">caracteristicasEspeciales</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-1">argv</span><span class="hl-0">.</span><span class="hl-1">valorDeMercado</span><br/><span class="hl-0">    );</span><br/><span class="hl-0">    </span><span class="hl-3">new</span><span class="hl-0"> </span><span class="hl-2">FuncosCollection</span><span class="hl-0">().</span><span class="hl-2">almacenarFunkoUsuario</span><span class="hl-0">(</span><span class="hl-1">nuevoFunko</span><span class="hl-0">, </span><span class="hl-1">argv</span><span class="hl-0">.</span><span class="hl-1">usuario</span><span class="hl-0">);</span><br/><span class="hl-0">  }</span><br/><span class="hl-0">)</span>
</code></pre>
<p>La función que se ejecuta cuando se llama al comando &quot;add&quot; toma los valores de estas opciones y los usa para crear un nuevo objeto Funko utilizando la clase Funko que se ha definido en otra parte del código. A continuación, el objeto Funko se almacena en la colección de Funkos del usuario utilizando el método almacenarFunkoUsuario() de la clase FuncosCollection.</p>
<p>En resumen, este código define un comando que permite a los usuarios agregar nuevos Funkos a su colección utilizando una serie de opciones para proporcionar detalles sobre el Funko que se está agregando.</p>

<a href="#modificacion" id="modificacion" style="color: inherit; text-decoration: none;">
  <h1>Modificacion</h1>
</a>
<p>En mi caso no pude completar la modificación en horario de clase, pero añadiré lo que obtuve luego de tener un poco de tiempo extra para plantearme una solución.</p>
<p>En este caso tenemos una clase plantilla, registro, de la cual son extendidas RegistroJson y registroCSV, las cuales se encargan de leer ficheros en formato JSON y CSV respectivamente.</p>

<a href="#registro-csv" id="registro-csv" style="color: inherit; text-decoration: none;">
  <h3>Registro CSV</h3>
</a>
<pre><code class="language-ts"><span class="hl-8">export</span><span class="hl-0"> </span><span class="hl-3">class</span><span class="hl-0"> </span><span class="hl-11">RegistroCSV</span><span class="hl-0"> </span><span class="hl-3">extends</span><span class="hl-0"> </span><span class="hl-11">Registro</span><span class="hl-0"> {</span><br/><br/><span class="hl-0">  </span><span class="hl-3">constructor</span><span class="hl-0">(</span><span class="hl-1">Bolsa</span><span class="hl-0">: </span><span class="hl-11">Bolsa</span><span class="hl-0">){</span><br/><span class="hl-0">    </span><span class="hl-3">super</span><span class="hl-0">(</span><span class="hl-1">Bolsa</span><span class="hl-0">)</span><br/><span class="hl-0">  }</span><br/><br/><span class="hl-0">  </span><span class="hl-3">protected</span><span class="hl-0"> </span><span class="hl-2">pocesar</span><span class="hl-0">(): </span><span class="hl-11">void</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-2">readFile</span><span class="hl-0">(</span><span class="hl-5">&#39;formato_csv.csv&#39;</span><span class="hl-0">, (</span><span class="hl-1">err</span><span class="hl-0">, </span><span class="hl-1">data</span><span class="hl-0">) </span><span class="hl-3">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">      </span><span class="hl-8">if</span><span class="hl-0"> (</span><span class="hl-1">err</span><span class="hl-0">) {</span><br/><span class="hl-0">        </span><span class="hl-1">console</span><span class="hl-0">.</span><span class="hl-2">log</span><span class="hl-0">(</span><span class="hl-5">&#39;There must be a problem with the file you are trying to read&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">      } </span><span class="hl-8">else</span><span class="hl-0"> {</span><br/><span class="hl-0">        </span><span class="hl-3">this</span><span class="hl-0">.</span><span class="hl-1">datos</span><span class="hl-0"> = </span><span class="hl-1">data</span><span class="hl-0">.</span><span class="hl-2">toString</span><span class="hl-0">()  </span><br/><span class="hl-0">        </span><span class="hl-3">let</span><span class="hl-0"> </span><span class="hl-1">datos</span><span class="hl-0"> = </span><span class="hl-3">this</span><span class="hl-0">.</span><span class="hl-1">datos</span><span class="hl-0">.</span><span class="hl-2">split</span><span class="hl-0">(</span><span class="hl-5">&quot;</span><span class="hl-12">\n</span><span class="hl-5">&quot;</span><span class="hl-0">)</span><br/><span class="hl-0">        </span><span class="hl-3">let</span><span class="hl-0"> </span><span class="hl-1">capacidad</span><span class="hl-0"> = </span><span class="hl-1">datos</span><span class="hl-0">[</span><span class="hl-10">0</span><span class="hl-0">].</span><span class="hl-2">split</span><span class="hl-0">(</span><span class="hl-5">&quot; &quot;</span><span class="hl-0">)</span><br/><span class="hl-0">        </span><span class="hl-3">this</span><span class="hl-0">.</span><span class="hl-1">bolsa</span><span class="hl-0">.</span><span class="hl-1">capacidad</span><span class="hl-0"> = </span><span class="hl-2">parseInt</span><span class="hl-0">(</span><span class="hl-1">capacidad</span><span class="hl-0">[</span><span class="hl-10">0</span><span class="hl-0">])</span><br/><span class="hl-0">        </span><span class="hl-3">this</span><span class="hl-0">.</span><span class="hl-1">bolsa</span><span class="hl-0">.</span><span class="hl-1">n_elementos</span><span class="hl-0"> = </span><span class="hl-2">parseInt</span><span class="hl-0">(</span><span class="hl-1">datos</span><span class="hl-0">[</span><span class="hl-10">1</span><span class="hl-0">])</span><br/><span class="hl-0">        </span><span class="hl-8">for</span><span class="hl-0"> (</span><span class="hl-3">let</span><span class="hl-0"> </span><span class="hl-1">i</span><span class="hl-0"> = </span><span class="hl-10">2</span><span class="hl-0">; </span><span class="hl-1">i</span><span class="hl-0"> &lt; </span><span class="hl-1">datos</span><span class="hl-0">.</span><span class="hl-1">length</span><span class="hl-0">; </span><span class="hl-1">i</span><span class="hl-0">++) {</span><br/><span class="hl-0">          </span><span class="hl-3">let</span><span class="hl-0"> </span><span class="hl-1">elemento</span><span class="hl-0"> = </span><span class="hl-1">datos</span><span class="hl-0">[</span><span class="hl-1">i</span><span class="hl-0">].</span><span class="hl-2">split</span><span class="hl-0">(</span><span class="hl-5">&quot; &quot;</span><span class="hl-0">)</span><br/><span class="hl-0">          </span><span class="hl-3">let</span><span class="hl-0"> </span><span class="hl-1">peso</span><span class="hl-0"> = </span><span class="hl-2">parseInt</span><span class="hl-0">(</span><span class="hl-1">elemento</span><span class="hl-0">[</span><span class="hl-10">0</span><span class="hl-0">])</span><br/><span class="hl-0">          </span><span class="hl-3">let</span><span class="hl-0"> </span><span class="hl-1">valor</span><span class="hl-0"> = </span><span class="hl-2">parseInt</span><span class="hl-0">(</span><span class="hl-1">elemento</span><span class="hl-0">[</span><span class="hl-10">1</span><span class="hl-0">])</span><br/><span class="hl-0">          </span><span class="hl-3">this</span><span class="hl-0">.</span><span class="hl-1">bolsa</span><span class="hl-0">.</span><span class="hl-1">elementos</span><span class="hl-0">.</span><span class="hl-2">push</span><span class="hl-0">({</span><span class="hl-1">peso</span><span class="hl-0">, </span><span class="hl-1">valor</span><span class="hl-0">})</span><br/><span class="hl-0">        }</span><br/><span class="hl-0">      }</span><br/><span class="hl-0">    });</span><br/><span class="hl-0">  }</span><br/><span class="hl-0">}</span>
</code></pre>
<p>La clase tiene un método protegido llamado procesar() que se encarga de procesar un archivo CSV. En el método se llama a la función readFile() de Node.js para leer el archivo CSV llamado formato_csv.csv. Si hay un error al leer el archivo, se imprime un mensaje en la consola. Si la lectura del archivo se realiza correctamente, se asigna el contenido del archivo a la propiedad datos de la clase.</p>
<p>Luego, se divide el contenido del archivo en líneas utilizando el carácter de salto de línea (\n). En la primera línea se encuentra la capacidad de la bolsa y en la segunda línea se encuentra el número de elementos que se van a procesar. A partir de la tercera línea se encuentran los elementos de la bolsa, donde cada elemento tiene un peso y un valor separados por un espacio.</p>
<p>En el bucle for se recorren las líneas de los elementos de la bolsa y se divide cada línea en sus componentes de peso y valor. Luego se agregan los elementos a la propiedad elementos de la bolsa, que es un array de objetos con las propiedades peso y valor.</p>
<p>Este método se utiliza para leer un archivo CSV y asignar los datos de la bolsa al objeto Bolsa que se pasó al constructor de la clase RegistroCSV.</p>

<a href="#registro-json" id="registro-json" style="color: inherit; text-decoration: none;">
  <h3>Registro JSON</h3>
</a>
<pre><code class="language-ts"><span class="hl-8">export</span><span class="hl-0"> </span><span class="hl-3">class</span><span class="hl-0"> </span><span class="hl-11">RegistroJSON</span><span class="hl-0"> </span><span class="hl-3">extends</span><span class="hl-0"> </span><span class="hl-11">Registro</span><span class="hl-0"> {</span><br/><br/><span class="hl-0">  </span><span class="hl-13">/**</span><br/><span class="hl-13">   * constructor de la clase RegistroJSON</span><br/><span class="hl-13">   * </span><span class="hl-3">@param</span><span class="hl-13"> </span><span class="hl-1">Bolsa</span><span class="hl-13">  bolsa de la que se va a leer el fichero</span><br/><span class="hl-13">   */</span><br/><span class="hl-0">  </span><span class="hl-3">constructor</span><span class="hl-0">(</span><span class="hl-1">Bolsa</span><span class="hl-0">: </span><span class="hl-11">Bolsa</span><span class="hl-0">){</span><br/><span class="hl-0">    </span><span class="hl-3">super</span><span class="hl-0">(</span><span class="hl-1">Bolsa</span><span class="hl-0">)</span><br/><span class="hl-0">  }</span><br/><br/><span class="hl-0">  </span><span class="hl-13">/**</span><br/><span class="hl-13">   * metodo que procesa el fichero JSON</span><br/><span class="hl-13">   */</span><br/><span class="hl-0">  </span><span class="hl-3">protected</span><span class="hl-0"> </span><span class="hl-2">pocesar</span><span class="hl-0">(): </span><span class="hl-11">void</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-2">readFile</span><span class="hl-0">(</span><span class="hl-5">&#39;formato_JSON.json&#39;</span><span class="hl-0">, (</span><span class="hl-1">err</span><span class="hl-0">, </span><span class="hl-1">data</span><span class="hl-0">) </span><span class="hl-3">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">      </span><span class="hl-8">if</span><span class="hl-0"> (</span><span class="hl-1">err</span><span class="hl-0">) {</span><br/><span class="hl-0">        </span><span class="hl-1">console</span><span class="hl-0">.</span><span class="hl-2">log</span><span class="hl-0">(</span><span class="hl-5">&#39;There must be a problem with the file you are trying to read&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">      } </span><span class="hl-8">else</span><span class="hl-0"> {</span><br/><span class="hl-0">        </span><span class="hl-3">this</span><span class="hl-0">.</span><span class="hl-1">datos</span><span class="hl-0"> = </span><span class="hl-1">data</span><span class="hl-0">.</span><span class="hl-2">toString</span><span class="hl-0">()  </span><br/><span class="hl-0">        </span><span class="hl-3">this</span><span class="hl-0">.</span><span class="hl-1">bolsa</span><span class="hl-0"> = </span><span class="hl-4">JSON</span><span class="hl-0">.</span><span class="hl-2">parse</span><span class="hl-0">(</span><span class="hl-3">this</span><span class="hl-0">.</span><span class="hl-1">datos</span><span class="hl-0">)</span><br/><span class="hl-0">        </span><span class="hl-13">// console.log(this.bolsa)</span><br/><span class="hl-0">      }</span><br/><span class="hl-0">    });</span><br/><span class="hl-0">  }</span><br/><span class="hl-0">}</span><br/>
</code></pre>
<p>En la clase RegistroJSON, se define un constructor que recibe un objeto Bolsa como parámetro y llama al constructor de la clase Registro pasando el mismo objeto como parámetro. Luego se define un método procesar() que lee el contenido de un archivo llamado formato_JSON.json utilizando la función readFile de Node.js. Si no hay errores al leer el archivo, el contenido se almacena en la propiedad datos de la instancia de la clase RegistroJSON. Después, se utiliza el método JSON.parse para analizar el contenido de datos y convertirlo en un objeto que se asigna a la propiedad bolsa.</p>
</div></div>
<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
<div class="tsd-navigation settings">
<details class="tsd-index-accordion"><summary class="tsd-accordion-summary">
<h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><path d="M4.93896 8.531L12 15.591L19.061 8.531L16.939 6.409L12 11.349L7.06098 6.409L4.93896 8.531Z" fill="var(--color-text)"></path></svg> Settings</h3></summary>
<div class="tsd-accordion-details">
<div class="tsd-filter-visibility">
<h4 class="uppercase">Member Visibility</h4><form>
<ul id="tsd-filter-options">
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li>
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-private" name="private"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Private</span></label></li>
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li>
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></form></div>
<div class="tsd-theme-toggle">
<h4 class="uppercase">Theme</h4><select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div>
<nav class="tsd-navigation primary">
<details class="tsd-index-accordion" open><summary class="tsd-accordion-summary">
<h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><path d="M4.93896 8.531L12 15.591L19.061 8.531L16.939 6.409L12 11.349L7.06098 6.409L4.93896 8.531Z" fill="var(--color-text)"></path></svg> Modules</h3></summary>
<div class="tsd-accordion-details">
<ul>
<li class="current selected"><a href="modules.html">doc-<wbr/>test</a>
<ul>
<li class="tsd-kind-module"><a href="modules/basicFunctions.html">basic<wbr/>Functions</a></li>
<li class="tsd-kind-module"><a href="modules/comand.html">comand</a></li>
<li class="tsd-kind-module"><a href="modules/funco.html">funco</a></li>
<li class="tsd-kind-module"><a href="modules/funkoCollection.html">funko<wbr/>Collection</a></li>
<li class="tsd-kind-module"><a href="modules/genero.html">genero</a></li>
<li class="tsd-kind-module"><a href="modules/main.html">main</a></li>
<li class="tsd-kind-module"><a href="modules/tipo.html">tipo</a></li></ul></li></ul></div></details></nav></div></div>
<div class="container tsd-generator">
<p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div>
<div class="overlay"></div><script src="assets/main.js"></script></body></html>